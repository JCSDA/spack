spack:
  repos:
  - $spack/ncep

  packages:
    all:
      compiler: [gcc@9.4.0]

  modules:
    enable:
    - lmod
    lmod:
      projections:
        nlohmann-json: 'json/{version}'
      blacklist:
      - berkeley-db
      - bzip2
      - expat
      - hwloc
      - libxml2
      - libedit
      - libevent
      - libiconv
      - libsigsegv
      - libxml
      - m4
      - nasm
      - gdbm
      - ncurses
      - openblas
      - openssh
      - readline
      - xz
      - pkgconf

      hash_length: 0
      all:
        environment:
          set:
            ${PACKAGE}_ROOT: ${PREFIX}
      core_compilers:
      - gcc@10.3.0
      hierarchy:
      - mpi
      core_specs:
      - python

    prefix_inspections:
      bin:
      - PATH
      man:
      - MANPATH
      share/man:
      - MANPATH
      share/aclocal:
      - ACLOCAL_PATH
      lib:
      - LIBRARY_PATH
      - LD_LIBRARY_PATH
      lib64:
      - LIBRARY_PATH
      - LD_LIBRARY_PATH
      include:
      - CPATH
      lib/pkgconfig:
      - PKG_CONFIG_PATH
      lib64/pkgconfig:
      - PKG_CONFIG_PATH
      '':
      - CMAKE_PREFIX_PATH

  specs:
  - openmpi@4.1.1
  - jpeg@9.1.0
  - zlib@1.2.11
  - libpng@1.6.35
  - jasper@2.0.25
  - udunits@2.2.28
  - hdf5@1.10.6 +hl +fortran +mpi +threadsafe
  - parallel-netcdf@1.12.1
  - netcdf-c@4.7.4 +mpi
  - netcdf-fortran@4.5.3
  - nccmp@1.8.9.0
  - esmf@8.1.1 xerces=False
  - fms@2020.04.03 +64bit +gfs_phys +openmp
  - bacio@2.4.1
  - sigio@2.3.2
  - sfcio@1.4.1
  - gfsio@1.4.1
  - w3nco@2.4.1
  - sp@2.3.3
  - ip@3.3.3
  - ip2@1.1.2
  - landsfcutil@2.4.1
  - nemsio@2.5.2
  - nemsiogfs@2.5.3
  - w3emc@2.7.3
  - g2@3.4.3
  - g2c@1.6.2
  - g2tmpl@1.10.0
  - crtm@2.3.0
  - upp@10.0.8 +openmp
  - wrf-io@1.2.0
  - wgrib2@2.0.8-cmake-v6
  - prod-util@1.2.2
  - grib-util@1.2.2
  - ncio@1.0.0
  - boost@1.68.0
  - eigen@3.3.7
  - gsl-lite@0.37.0
  - gptl@8.0.2
  - fftw@3.3.8
  - nlohmann-json@3.9.1
  - nlohmann-json-schema-validator@2.1.0
  - py-pybind11@2.5.0
  - ecbuild@3.6.1
  
  concretization: together
